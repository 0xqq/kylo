<div ng-controller="RegisteredTemplatesController as vm">

    <card-layout  header-css="filter-header" class="centered">

        <header-section tba-card-filter-header transclude-to="head" flex layout card-title="vm.cardTitle" page-name="{{vm.pageName}}" view-type="vm.viewType" sort-options="vm.sortOptions" on-selected-option="vm.selectedTableOption" filter-model="vm.filter">

        </header-section>


        <body-section>

            <md-list flex layout-fill class="list-item-table registered-templates">
                <md-list-item  class="md-secondary" dir-paginate="template in vm.registeredTemplates |orderBy:vm.paginationData.sort |filter:vm.filter|itemsPerPage:vm.paginationData.rowsPerPage" pagination-id="vm.paginationId"  >
                    <div layout="row" layout-fill>
                        <div flex="40" layout="column" class="item-column md-list-item-text " title="{{template.properties.length}} properties configured" ng-click="vm.templateDetails($event,template)">
                                     <span class="item-title" title="{{template.templateName}}">
                                      {{template.templateName}}
                                   </span>
                                   <span class="column-title column-title-bottom">
                                          <ng-md-icon icon="{{template.icon}}" size="20" hide-xs style="fill:{{template.iconColor}}">
                                          </ng-md-icon>
                                    Template Name
                                   </span>
                        </div>
                        <div flex="40" layout="column" class="item-column md-list-item-text ">

                                   <span  class="item-title" title="{{feed.active}}" >
                                     {{template.updateDate | date: 'MM/dd/yyyy @ h:mm:ssa'}}</span>
                                     <span class="column-title column-title-bottom">
                                     Last Updated
                                   </span>
                        </div>
                        <div flex="20" layout="column" class="item-column md-list-item-text " >
                            <md-button href="{{template.exportUrl}}"  layout-align="center">
                                <ng-md-icon icon="file_download" size="20" style="fill:#F08C38"> </ng-md-icon>
                                <span style="padding-left:10px;">Export</span>
                            </md-button>
                        </div>

                    </div>
                    <md-divider ng-if="!$last"></md-divider>
                </md-list-item>
                <md-list-item  ng-show="vm.loading == false && vm.feedData.length ==0">
                    No results found
                </md-list-item >
                <md-divider></md-divider>
                <md-list-item   layout-align="end center"  layout-row class="pagination-list-item">
                    <dir-pagination-controls pagination-id="vm.paginationId"
                                             auto-hide="false"
                                             max-size="5"
                                             direction-links="true"
                                             boundary-links="false"
                                             template-url="js/vendor/dirPagination/dirPagination.tpl.html"
                                             current-page="vm.currentPage()"
                                             on-page-change="vm.onPaginationChange(newPageNumber)"
                                             label="Rows per page"
                                             rows-per-page="vm.paginationData.rowsPerPage"
                                             rows-per-page-options="vm.paginationData.rowsPerPageOptions"
                                             class="pagination-row">
                    </dir-pagination-controls>
                </md-list-item>
            </md-list>

        </body-section>

    </card-layout>
</div>