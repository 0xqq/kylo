<md-dialog aria-label="Feed Results"  ng-cloak>
    <form>
            <div  class="md-toolbar-tools">
                <h4 class="md-title" ng-if="isValid">
                    <ng-md-icon md-icon icon="done" aria-label="Close dialog"></ng-md-icon>
                    <span>Successfully created {{feedName}}</span></h4>
                <h4 class="md-warn" ng-if="!isValid">
                    <ng-md-icon class="md-warn" md-icon icon="error_outline" aria-label="Close dialog"></ng-md-icon>
                    <span>Error creating {{feedName}}</span>
                </h4>
                <span flex></span>
                <md-button class="md-icon-button" ng-click="cancel()">
                    <ng-md-icon md-icon icon="close" aria-label="Close dialog"></ng-md-icon>
                </md-button>
            </div>
        <md-dialog-content layout="column" flex style="min-width:500px;" layout-padding>
            <div ng-if="!isValid && feedErrorsData != null">
                <div>{{::message}}</div>
                            <md-list class="padding-left" ng-repeat="(severity,errors)  in feedErrorsData">
                                <md-subheader class="md-warn" ng-if="errors.length >0">{{::severity}} errors</md-subheader>
                                <md-list-item class="md-2-line" ng-repeat="error in errors track by $index" >
                                    <div class="md-list-item-text" >
                                        <div ng-if="error.processorName != null && error.processorName != '' " style="color:grey">Processor: {{::error.processorName}}</div>
                                        <div class="md-warn-text">{{::error.message}}</div>
                                    </div>
                                    <md-divider ng-if="!$last"></md-divider>
                                </md-list-item>
                            </md-list>
            </div>



            <!--<div>{{message}}</div> -->
            <div ng-if="isValid">
                <div>You might also like to ...</div>
                <md-list >
                    <md-list-item ng-click="defineSla()" class="md-2-line" >
                        <ng-md-icon icon="call_missed" class="accent-color-2"></ng-md-icon>
                        <div class="md-list-item-text">
                            Define a Service Level Agreement
                            </div>

                    </md-list-item>
                    <md-divider></md-divider>
                    <md-list-item ng-click="defineNewFeed()" class="md-2-line" >
                        <ng-md-icon md-icon icon="add_circle_outline" class="accent-color-2"></ng-md-icon>
                        <div class="md-list-item-text">Create a new feed
                            </div>
                    </md-list-item>
                    <md-divider></md-divider>
                    <md-list-item ng-click="defineNewFeedLike()" class="md-2-line" >
                        <ng-md-icon md-icon icon="control_point_duplicate" class="accent-color-2"></ng-md-icon>
                        <div class="md-list-item-text">Create another like this feed
                            </div>
                    </md-list-item>
                    <md-divider></md-divider>
                    <md-list-item ng-click="cancel()" class="md-2-line" >
                        <ng-md-icon md-icon icon="rate_review" class="accent-color-2"></ng-md-icon>
                        <div class="md-list-item-text">Review this feed
                            </div>
                    </md-list-item>
                    <md-divider></md-divider>
                    <md-list-item ng-click="viewFeeds()" class="md-2-line" >
                        <ng-md-icon md-icon icon="playlist_play" class="accent-color-2"></ng-md-icon>
                        <div class="md-list-item-text">View all the feeds
                            </div>
                    </md-list-item>
                </md-list>
            </div>
            <md-list ng-if="!isValid" class="md-2-line">
                <md-list-item ng-click="fixErrors()"><ng-md-icon md-icon icon="error_outline" class="md-warn"></ng-md-icon> </md-list-item>
                <div class="md-list-item-text">Click here to review and fix the errors.
                    </div>
            </md-list>
        </md-dialog-content>
    </form>
</md-dialog>